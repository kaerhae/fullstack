[{"/home/laptop/git/fullstack/part2/puhelinluettelo/src/index.js":"1","/home/laptop/git/fullstack/part2/puhelinluettelo/src/App.js":"2","/home/laptop/git/fullstack/part2/puhelinluettelo/src/components/filterPerson.js":"3","/home/laptop/git/fullstack/part2/puhelinluettelo/src/components/addPerson.js":"4","/home/laptop/git/fullstack/part2/puhelinluettelo/src/components/showAllPersons.js":"5","/home/laptop/git/fullstack/part2/puhelinluettelo/src/services/persons.js":"6","/home/laptop/git/fullstack/part2/puhelinluettelo/src/components/Notification.js":"7"},{"size":220,"mtime":1610203543547,"results":"8","hashOfConfig":"9"},{"size":4441,"mtime":1610698572476,"results":"10","hashOfConfig":"9"},{"size":240,"mtime":1610378473053,"results":"11","hashOfConfig":"9"},{"size":506,"mtime":1610608501830,"results":"12","hashOfConfig":"9"},{"size":513,"mtime":1610637589582,"results":"13","hashOfConfig":"9"},{"size":527,"mtime":1611001266981,"results":"14","hashOfConfig":"9"},{"size":427,"mtime":1610793962458,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1bebxc3",{"filePath":"19","messages":"20","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"21","usedDeprecatedRules":"18"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24","usedDeprecatedRules":"18"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"31","usedDeprecatedRules":"18"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/laptop/git/fullstack/part2/puhelinluettelo/src/index.js",[],["34","35"],"/home/laptop/git/fullstack/part2/puhelinluettelo/src/App.js",["36","37","38"],"import './App.css'\nimport personService from './services/persons'\nimport React, { useEffect, useState } from 'react'\nimport Filter from './components/filterPerson'\nimport Add from './components/addPerson'\nimport ShowPerson from './components/showAllPersons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  \n  const [ persons, setPersons] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [ newPerson,  setNewPerson ] = useState('')\n  const [ message, setMessage ] = useState('')\n\n\n\n  useEffect(() =>  {\n    personService\n      .getAllPersons()\n      .then(response => {\n        setPersons(response.data)\n      })\n}, [])\n\n  console.log('render', persons.length, 'notes')\n\n\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewSearch(event.target.value)\n    \n  }\n\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n\n    const personResult = persons.find( ({ name }) => \n    name.toLowerCase() === newName.toLowerCase())\n    const personObject = \n    {\n      name: newName,\n      number: newNumber,\n     \n    }    \n    if(personResult)\n    {\n      console.log(\"Miksi me ollaan täällä?\")\n      if(window.confirm(\"Haluatko lisätä uuden numeron henkilölle?\"))\n      { \n        const name = newName.toLowerCase()\n      \n        const number = newNumber\n        const findPerson = persons.find(p => p.name.toLowerCase() === name)\n        const returnedId = findPerson.id\n        const changedPerson = {...returnedId, name, number}\n        \n\n        personService\n          .updatePerson(returnedId, changedPerson)\n          .then(response => {\n            const filtered = persons.map(person => person.id != returnedId ? returnedId : response.data)\n            console.log(filtered)\n          \n          \n            setPersons(filtered)\n            const successMessage = ` '${response.data.name}' was updated succesfully to the server`\n            setMessage(successMessage)\n            setTimeout(() => {\n              setMessage(null)\n            }, 11000)\n          })\n          .catch(error => {\n            const errorMessage = `Person was already removed from server`\n            setMessage(errorMessage)\n            setTimeout(() => {\n              setMessage(null)\n            }, 11000)\n          })\n        \n      }\n      \n    }\n    if(!personResult)\n    {\n      console.log(\"Ei löydy listalta, lisätään....\")\n      personService\n        .createPerson(personObject)\n        .then(response => {\n          console.log(response.data)\n          setPersons(persons.concat(response.data))\n\n          setNewPerson('')\n          const successMessage = ` '${response.data.name}' was added succesfully to the server`\n\n          setMessage(successMessage)\n          console.log(message)\n          setTimeout(() => {\n            setMessage(null)\n          }, 11000)\n  \n\n        })\n    }\n\n}\n\n\n  const handleDelete = (event) => {\n    const id = event.target.value\n    console.log(id)\n\n      if (window.confirm(\"Are you sure you want to delete \" + id))\n      {\n        personService\n      .deletePerson(id)\n      .then(response => {\n        const successMessage = persons.find(person => person.id)\n        console.log(successMessage, \"Tässä on ihmiset\")\n\n        const poistettu = successMessage.name\n        console.log(poistettu)\n\n        setMessage(\n          ` '${poistettu}' was deleted succesfully to the server`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 11000)\n        const filtered = persons.filter(person => person.id != id)\n        setPersons(filtered)   \n      })\n    }\n  }\n\n\n\n  return (\n    <div>\n      <Notification message={message} />\n\n      <h2>Phonebook</h2>\n      <Filter value={newSearch} onChange={handleFilterChange}/>\n      <Add \n      onSubmit={handleSubmit}\n      nameValue={newName}\n      nameHandler={handleNameChange}\n      numberValue={newNumber}\n      numberHandle={handleNumberChange}\n      />\n\n      <h2>Numbers</h2>\n      <ShowPerson\n        persons={persons}\n        newSearch={newSearch}\n        onClickHandler={handleDelete}\n      />\n    </div>\n  )\n\n}\n\nexport default App","/home/laptop/git/fullstack/part2/puhelinluettelo/src/components/filterPerson.js",["39"],"import React from 'react';\nimport ReactDOM from 'react-dom'\n\n\n\n\nconst Filter = (props) => {\n\n\n\n\n    return (\n        <div>\n        Filter: <input value={props.value} onChange={props.onChange} />\n      </div>\n    )\n}\n\n\nexport default Filter;","/home/laptop/git/fullstack/part2/puhelinluettelo/src/components/addPerson.js",[],"/home/laptop/git/fullstack/part2/puhelinluettelo/src/components/showAllPersons.js",[],"/home/laptop/git/fullstack/part2/puhelinluettelo/src/services/persons.js",["40"],"import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAllPersons = () => {\n    return axios.get(baseUrl)\n}\n\nconst createPerson = newObject => {\n\n    return axios.post(baseUrl, newObject)\n}\n\nconst deletePerson = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst updatePerson = (id, newObject) => {\n    return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\n\nexport default {\n    getAllPersons: getAllPersons,\n    createPerson: createPerson,\n    deletePerson: deletePerson,\n    updatePerson: updatePerson\n}","/home/laptop/git/fullstack/part2/puhelinluettelo/src/components/Notification.js",[],{"ruleId":"41","replacedBy":"42"},{"ruleId":"43","replacedBy":"44"},{"ruleId":"45","severity":1,"message":"46","line":15,"column":11,"nodeType":"47","messageId":"48","endLine":15,"endColumn":20},{"ruleId":"49","severity":1,"message":"50","line":75,"column":62,"nodeType":"51","messageId":"52","endLine":75,"endColumn":64},{"ruleId":"49","severity":1,"message":"50","line":143,"column":61,"nodeType":"51","messageId":"52","endLine":143,"endColumn":63},{"ruleId":"45","severity":1,"message":"53","line":2,"column":8,"nodeType":"47","messageId":"48","endLine":2,"endColumn":16},{"ruleId":"54","severity":1,"message":"55","line":23,"column":1,"nodeType":"56","endLine":28,"endColumn":2},"no-native-reassign",["57"],"no-negated-in-lhs",["58"],"no-unused-vars","'newPerson' is assigned a value but never used.","Identifier","unusedVar","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","'ReactDOM' is defined but never used.","import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-global-assign","no-unsafe-negation"]